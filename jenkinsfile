pipeline
{
    agent any
    stages
    {
        stage('ContinuousDownload')
        {
            steps
            {
             git 'https://github.com/intelliqittrainings/maven.git'
            }
        }
        stage('ContinuousBuild')
        {
            steps
            {
             sh 'mvn package'
            }
        }
        
    stage('ContinuousDeployment')
        {
            steps
            {
             deploy adapters: [tomcat9(credentialsId: '48e60a09-4100-4c74-8190-4b1cdfddb272', path: '', url: 'http://172.31.2.90:8080')], contextPath: 'siva', war: '**/*.war'
            }
           
        }
    stage('ContinuousTesting')
        {
            steps
            {
             git 'https://github.com/intelliqittrainings/FunctionalTesting.git'
             sh 'java -jar /home/ubuntu/.jenkins/workspace/Declaretivepipeline/testing.jar'
            }
           
        }
        stage('ContinuousDelivery')
        {
            steps
            {
            input message: 'Required approvals', submitter: 'siva'
            deploy adapters: [tomcat9(credentialsId: '388af6fb-6580-4b96-b3e3-c074c4c95cbe', path: '', url: 'http://172.31.3.158:8080')], contextPath: 'prasad', war: '**/*.war'
            }
           
        }
    }       
}
    
